<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/cart.css">
    <link rel="stylesheet" href="css/footer.css">
    <title>Document</title>
    <style>
     
    </style>
</head>
<body>
   <!-- 結帳資訊 -->
<div class="cart-info">
    <h2>購物車</h2>

    <div class="cart-info-nav">
        <span>商品資料</span>
        <span>單價</span>
        <span>數量</span>
        <span>小計</span>
    </div>

    <!-- 商品資訊 -->
    <div class="product-list">
        <div class="product-pic">
            <img src="pic/land-sea.jpeg" width="68" height="71" alt="商品照">
        </div>
        <div class="product-name">
            <span>精選組合｜職人嚴選-海陸饗宴</span>
        </div>
        <div class="product-price"> 
            NT$3,680
        </div>
        <div class="product-quantity">
            <button class="minus">-</button>
            <input type="text" class="input-num" value="1">
            <button class="plus">+</button>
        </div>
        <div class="product-cost"> 
            NT$3,680
        </div>
        <div class="delete">          
            <i class="fa-solid fa-xmark"></i>
        </div>
    </div>
</div>

<!-- 宅配選單 -->
<div class="checkout-container">
    <div class="checkout-delivery">
        <h3>選擇送貨及付款方式</h3>
        <form class="delivery-type">
            <p>送貨方式</p>
            <select name="" id="" class="type">
                <option value="">黑貓宅配</option>
                <option value="">711超商取貨</option>
                <option value="">全家超商取貨</option>
            </select>

            <p>付款方式</p>
            <select name="" id="" class="payment">
                <option value="">LINEPAY</option>
                <option value="">信用卡(Visa/Master/JCB)</option>
                <option value="">貨到付款</option>
            </select>
        </form>
    </div>
    <div class="order-information">
        <h3>訂單資訊</h3>
        <div class="subtotal">
            <p>小計:</p>
            <p>NT$<span>3,680</span></p>
        </div>
        <div class="freight">
            <p>運費:</p>
            <p>NT$<span>60</span></p>
        </div>
        <div class="total">
            <p>合計</p>
            <p>NT<span>3,740</span></p>
        </div>
        <div class="pay">
            <a href="#">前往結賬</a>
        </div>
    </div>
</div>

<!-- 訂購須知 -->
<div class="notice">
    <h3>＊＊＊下單前請特別留意＊＊＊</h3>
    <ul>
        <li>電子發票將會在出貨後統一以email方式寄出，請特別留意email是否正確，以免收不到發票</li>
        <li>收件地址、電話請務必填寫正確，以免物流人員無法聯繫，導致延後配送時間。</li>
        <li>完成付款後，預計3~5個工作天（不含假日）安排出貨。</li>
        <li>線上購買統一配送方式為宅配，無法店取。</li>
    </ul>
    <span>官網保有活動最終修改解釋權，若有任何問題歡迎在訂單中留言!謝謝您的訂購。</span>
</div>

<!-- 頁尾 -->
<div class="main-footer">
    <div class="footer">
        <div class="footer-logo">
            <a href="index.html"><img src="pic/index-logo2.png" alt="小logo"></a>
        </div>
        <div class="footer-icon">
            <a href="#"><i class="fa-brands fa-instagram"></i></a>
            <a href="#"><i class="fa-brands fa-square-facebook"></i></a>
        </div>
    </div>
    <div class="footer-block">
        <div class="footer-item">
            <div class="footer-list">
                 <a href="#">會員專區</a>
                <a href="#">常見問題</a>
                <a href="#">菁英招募</a>
                <a href="#">集團品牌</a>
                <a href="#">聯絡我們</a>
            </div>
        </div>
        <div class="footer-text">
            <p>商品擺盤請以現場實物為準，產品形象圖中之擺盤裝飾物係為示意圖。</p>
        </div>
    </div> 
</div>

<!-- JavaScript -->
<script>
    const productRow = document.querySelector(".product-list");
    const plusButton = productRow.querySelector(".plus");
    plusButton.addEventListener("click", incrementQuantity);
    const minusButton = productRow.querySelector(".minus");
    minusButton.addEventListener("click", decrementQuantity);
    const deleteButton = productRow.querySelector(".delete");
    deleteButton.addEventListener("click", deleteProduct);

    function incrementQuantity() {
        const quantityInput = productRow.querySelector(".input-num");
        let quantity = parseInt(quantityInput.value);
        if (quantity < 10) {
            quantity++;
            quantityInput.value = quantity.toString();
            updateProductCost(quantity);
            updateSubtotal();
            updateTotal();
        }
    }

    function decrementQuantity() {
        const quantityInput = productRow.querySelector(".input-num");
        let quantity = parseInt(quantityInput.value);
        if (quantity > 1) {
            quantity--;
            quantityInput.value = quantity.toString();
            updateProductCost(quantity);
            updateSubtotal();
            updateTotal();
        }
    }

    function deleteProduct() {
        const quantityInput = productRow.querySelector(".input-num");
        quantityInput.value = "0";
        updateProductCost(0);
        updateSubtotal();
        updateTotal();
    }

    function updateProductCost(quantity) {
        const productPrice = productRow.querySelector(".product-price");
        const productCost = productRow.querySelector(".product-cost");
        const price = parseInt(productPrice.textContent.replace("NT$", "").replace(",", ""));
        const cost = price * quantity;
        productCost.textContent = "NT$" + cost.toLocaleString();
    }

    function updateSubtotal() {
        const productCosts = document.querySelectorAll(".product-cost");
        let subtotal = 0;
        productCosts.forEach(function (productCost) {
            const cost = parseInt(productCost.textContent.replace("NT$", "").replace(",", ""));
            subtotal += cost;
        });
        const subtotalElement = document.querySelector(".subtotal span");
        subtotalElement.textContent = subtotal.toLocaleString();
    }

    function updateTotal() {
        const subtotal = parseInt(document.querySelector(".subtotal span").textContent.replace(",", ""));
        const freight = parseInt(document.querySelector(".freight span").textContent.replace(",", ""));
        const total = subtotal + freight;
        const totalElement = document.querySelector(".total span");
        totalElement.textContent = total.toLocaleString();
    }
</script>

</body>
</html>